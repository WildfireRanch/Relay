# =============================================================================
# Relay Command Center - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control - only commit .env.example

# =============================================================================
# üåç ENVIRONMENT & DEPLOYMENT
# =============================================================================
ENV=dev
# Options: dev, staging, production

# =============================================================================
# üîê AUTHENTICATION & SECURITY
# =============================================================================
# Primary API key for backend authentication
API_KEY=your-api-key-here

# Alternative API keys (Railway/Admin)
RELAY_API_KEY=your-relay-api-key
ADMIN_API_KEY=your-admin-api-key

# Admin UI Protection
ADMIN_UI_TOKEN=your-admin-ui-token
ADMIN_IPS=203.0.113.10,198.51.100.25

# =============================================================================
# ü§ñ OPENAI CONFIGURATION
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_TIMEOUT=30
OPENAI_MAX_RETRIES=2
KB_EMBED_MODEL=text-embedding-3-large
OPENAI_EMBEDDINGS_MODEL=text-embedding-3-small

# =============================================================================
# üåê FRONTEND & CORS CONFIGURATION
# =============================================================================
# Frontend API URL (Next.js app needs this)
NEXT_PUBLIC_API_URL=http://localhost:8000
# Production: https://api.yourdomain.com
# Staging: https://api-staging.yourdomain.com

# Allowed frontend origins for CORS
FRONTEND_ORIGINS=http://localhost:3000
# Production: https://app.yourdomain.com,https://yourdomain.com
# Use FRONTEND_ORIGIN_REGEX for pattern matching

FRONTEND_ORIGIN_REGEX=^https://([a-z0-9-]+\.)?yourdomain\.com$

# =============================================================================
# üìÑ GOOGLE DOCS INTEGRATION (Optional)
# =============================================================================
GOOGLE_CREDS_JSON=base64-encoded-service-account-json
GOOGLE_TOKEN_JSON=base64-encoded-oauth-token
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_FOLDER_NAME=COMMAND_CENTER

# OAuth Configuration
OAUTH_REDIRECT_URI=http://localhost:8000/auth/callback
POST_AUTH_REDIRECT_URI=http://localhost:3000/docs

# =============================================================================
# üíæ DATABASE & STORAGE
# =============================================================================
# Knowledge Base & Index Configuration
INDEX_ROOT=./index/dev
KB_EMBED_DIM=1536
KB_MAX_FILE_SIZE_MB=2
SEMANTIC_DEFAULT_K=6
SEMANTIC_SCORE_THRESHOLD=0.35

# Redis Cache (Optional)
REDIS_URL=redis://localhost:6379

# =============================================================================
# üöÄ RAILWAY DEPLOYMENT
# =============================================================================
# Railway automatically provides these, but you can override:
# PORT=8000
# RAILWAY_ENVIRONMENT=production

# =============================================================================
# üîß APPLICATION SETTINGS
# =============================================================================
# Timeouts
HTTP_TIMEOUT_S=35
ASK_TIMEOUT_S=60

# Knowledge Base Settings
ASK_MIN_MAX_SCORE=0.35
ASK_MIN_HITS=1
KB_SCORE_THRESHOLD=0.35
KB_MIN_HITS=1

# Anti-parrot Protection
ANTI_PARROT_MAX_CONTIGUOUS_MATCH=180
ANTI_PARROT_JACCARD=0.35
FINAL_TEXT_MAX_LEN=20000

# MCP Settings
MCP_SAFE_MODE=false

# Index Management
WIPE_INDEX=false

# =============================================================================
# üìä MONITORING & OBSERVABILITY (Optional)
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-telemetry-endpoint
GIT_COMMIT=auto-populated-by-ci
APP_ENV=auto-populated

# =============================================================================
# üéØ PROJECT PATHS
# =============================================================================
RELAY_PROJECT_ROOT=.
LOCK_DIR=./var/locks